"""
Neptune Sign Descriptions for No-Birth-Time Astrology Analysis

This module contains detailed descriptions for Neptune signs, including core themes,
collective purpose, strengths, challenges, and actionable contributions.
These descriptions are used in the no-birth-time version of the astrology app.
"""

# Dictionary mapping sign names to their numerical index
SIGN_INDEX = {
    "Aries": 1,
    "Taurus": 2,
    "Gemini": 3,
    "Cancer": 4,
    "Leo": 5,
    "Virgo": 6,
    "Libra": 7,
    "Scorpio": 8,
    "Sagittarius": 9,
    "Capricorn": 10,
    "Aquarius": 11,
    "Pisces": 12,
}

# Dictionary mapping numerical index to sign names
SIGN_NAMES = {
    1: "Aries",
    2: "Taurus",
    3: "Gemini",
    4: "Cancer",
    5: "Leo",
    6: "Virgo",
    7: "Libra",
    8: "Scorpio",
    9: "Sagittarius",
    10: "Capricorn",
    11: "Aquarius",
    12: "Pisces",
}

# Comprehensive Neptune sign descriptions
NEPTUNE_SIGN_DESCRIPTIONS = {
    "Aries": {
        "core_themes": "Visionary Leadership, Collective Courage, Dissolving Boundaries",
        "collective_purpose": "This generation dissolves outdated notions of heroism and power. They pioneer movements that merge individualism with collective liberation, such as redefining leadership through decentralized activism or creating art that challenges militaristic narratives.",
        "strengths": "Idealistic trailblazers, they inspire courage in others by embodying radical authenticity. Think founders of grassroots movements blending spiritual fervor with social justice or artists using immersive tech to simulate post-conflict societies.",
        "challenges": "Impatience may lead to burnout or fractured alliances when idealism clashes with slow systemic change. Channeling fire into sustainable strategies is key.",
        "actionable_contribution": "Mentor youth-led initiatives reimagining community safety beyond policing. Create public art memorializing forgotten revolutions to inspire future action.",
        "affirmation": "Your vision ignites collective courage—lead boldly, but let compassion temper your flames."
    },
    
    "Taurus": {
        "core_themes": "Material Transcendence, Ecological Reverence, Redefined Security",
        "collective_purpose": "This generation challenges capitalist notions of \"value,\" advocating for land reparations, slow fashion, or cryptocurrencies backed by ecological health metrics. They redefine wealth as interdependence with the Earth.",
        "strengths": "Grounded dreamers, they merge practicality with mysticism. Examples include architects designing biophilic cities or farmers integrating permaculture with ancestral rituals.",
        "challenges": "Resistance to change may stall adaptation during climate crises. Flexibility ensures their visions remain rooted yet responsive.",
        "actionable_contribution": "Launch cooperatives for regenerative agriculture linking urban and rural communities. Develop tools tracking corporate greenwashing in real time.",
        "affirmation": "Your roots nourish the future—grow deeply, but let urgency stir your soil."
    },
    
    "Gemini": {
        "core_themes": "Cognitive Liberation, Decentralized Truth, Ethereal Communication",
        "collective_purpose": "This generation dissolves information hierarchies, democratizing knowledge through open-source storytelling, AI ethics coalitions, or meme cultures challenging propaganda.",
        "strengths": "Fluid thinkers, they bridge divides with humor and creativity. Think developers of privacy-first social platforms or collectives translating complex science into public art.",
        "challenges": "Scattered focus may dilute impact. Prioritizing depth alongside speed ensures ideas take root.",
        "actionable_contribution": "Teach media literacy workshops countering algorithmic bias. Write speculative fiction exploring ethical tech futures to spark grassroots dialogue.",
        "affirmation": "Your words weave new realities—speak freely, but let truth anchor your noise."
    },
    
    "Cancer": {
        "core_themes": "Emotional Alchemy, Ancestral Healing, Radical Nurturance",
        "collective_purpose": "This generation redefines \"family\" and security, advocating for universal childcare, trauma-informed urban design, or AI tools democratizing mental health care.",
        "strengths": "Nurturing visionaries, they transform generational pain into communal resilience. Examples include founders of intergenerational co-housing or therapists blending VR with somatic healing.",
        "challenges": "Overprotectiveness may stifle necessary risk-taking. Balancing safety with liberation fosters growth.",
        "actionable_contribution": "Organize oral history projects preserving marginalized cultural practices. Build apps connecting refugees with host families through storytelling.",
        "affirmation": "Your care rebuilds belonging—hold fiercely, but let change soften your walls."
    },
    
    "Leo": {
        "core_themes": "Creative Mysticism, Collective Joy, Redefined Legacy",
        "collective_purpose": "This generation dismantles hierarchical systems of fame, elevating grassroots art movements or redefining leadership as heart-centered collaboration. They infuse creativity with social purpose.",
        "strengths": "Charismatic healers, they use art to challenge power. Think curators of decentralized theater collectives or mentors teaching radical empathy in corporate spaces.",
        "challenges": "Ego clashes may undermine shared goals. Cultivating humility ensures creativity serves the collective.",
        "actionable_contribution": "Crowdfund public art critiquing authoritarianism. Mentor programs amplifying disabled artists in mainstream media.",
        "affirmation": "Your light disrupts shadows—shine unapologetically, but let community crown your spark."
    },
    
    "Virgo": {
        "core_themes": "Holistic Healing, Ethical Systems, Sacred Labor",
        "collective_purpose": "This generation revolutionizes work and wellness, advocating for universal healthcare, worker-owned gig platforms, or AI tools reducing burnout through equitable design.",
        "strengths": "Meticulous idealists, they repair broken systems with precision. Examples include designers of zero-waste supply chains or apps exposing corporate labor violations.",
        "challenges": "Perfectionism may stall bold action. Embracing \"good enough\" progress fuels momentum.",
        "actionable_contribution": "Launch cooperatives for freelancers in exploitative industries. Campaign for \"right to repair\" laws challenging planned obsolescence.",
        "affirmation": "Your hands heal fractures—work diligently, but let compassion guide your critique."
    },
    
    "Libra": {
        "core_themes": "Aesthetic Justice, Relational Alchemy, Harmonious Dissolution",
        "collective_purpose": "This generation reimagines fairness through beauty, pioneering restorative justice art installations, AI-mediated diplomacy, or design collectives centering accessibility.",
        "strengths": "Diplomatic artists, they merge idealism with pragmatism. Think mediators using VR to simulate cross-cultural empathy or designers creating adaptive clothing for disabled communities.",
        "challenges": "Avoiding conflict may delay systemic change. Leaning into discomfort sparks growth.",
        "actionable_contribution": "Design tools auditing algorithmic bias in hiring. Curate exhibitions amplifying queer histories through immersive soundscapes.",
        "affirmation": "Your harmony disrupts complacency—fight for beauty, but let justice sharpen your grace."
    },
    
    "Scorpio": {
        "core_themes": "Collective Shadow Work, Transformational Healing, Financial Alchemy",
        "collective_purpose": "This generation exposes societal taboos, advocating for psychedelic-assisted therapy, financial transparency via blockchain, or AI ethics in mental health care.",
        "strengths": "Alchemists of crisis, they turn pain into empowerment. Think developers of privacy-first trauma platforms or artists exploring grief through augmented reality.",
        "challenges": "Obsession with control may breed distrust. Surrendering to collective wisdom deepens impact.",
        "actionable_contribution": "Build platforms democratizing access to somatic therapy. Create art resurrecting silenced histories of resistance.",
        "affirmation": "Your depth regenerates wounds—dig fearlessly, but let trust loosen your grip."
    },
    
    "Sagittarius": {
        "core_themes": "Philosophical Unity, Ethical Exploration, Borderless Truth",
        "collective_purpose": "This generation challenges dogma, advocating for interfaith climate coalitions, decentralized education platforms, or ethical travel networks fostering global empathy.",
        "strengths": "Visionary bridge-builders, they merge wanderlust with justice. Think journalists embedding with grassroots movements or founders of eco-hostels uniting travelers and locals.",
        "challenges": "Over-idealism may overlook local nuances. Grounding visions in collaboration ensures relevance.",
        "actionable_contribution": "Volunteer with NGOs decentralizing education in conflict zones. Write manifestos blending indigenous wisdom with futuristic ethics.",
        "affirmation": "Your quest dissolves borders—seek widely, but let humility guide your path."
    },
    
    "Capricorn": {
        "core_themes": "Structural Dissolution, Ethical Ambition, Pragmatic Spirituality",
        "collective_purpose": "This generation dismantles corrupt hierarchies, demanding climate accountability, corporate mindfulness programs, or governance models blending ancient wisdom with tech.",
        "strengths": "Strategic dreamers, they topple outdated systems with precision. Examples include policymakers mandating eco-audits or CEOs advocating 4-day workweeks for mental health.",
        "challenges": "Rigidity may resist cultural shifts. Flexibility ensures their reforms endure.",
        "actionable_contribution": "Advocate for interspecies rights in environmental law. Develop DAOs (decentralized organizations) for community-led disaster relief.",
        "affirmation": "Your resolve reshapes institutions—climb strategically, but let empathy carve your steps."
    },
    
    "Aquarius": {
        "core_themes": "Utopian Technology, Collective Liberation, Radical Imagination",
        "collective_purpose": "This generation merges tech with empathy, pioneering AI-driven mental health allies, open-source climate solutions, or sci-fi narratives envisioning post-capitalist societies.",
        "strengths": "Architects of the impossible, they code equitable futures. Think developers of community-owned renewable grids or artists using NFTs to fund social housing.",
        "challenges": "Detachment may alienate allies. Balancing logic with compassion strengthens solidarity.",
        "actionable_contribution": "Build apps redistributing surplus resources globally. Organize hackathons tackling ethical AI dilemmas.",
        "affirmation": "Your code rewires possibility—innovate relentlessly, but let humanity debug your dreams."
    },
    
    "Pisces": {
        "core_themes": "Spiritual Dissolution, Empathic Revolution, Cosmic Unity",
        "collective_purpose": "This generation merges mysticism with activism, championing ocean rights, psychedelic-assisted therapy, or AI-generated art exploring collective consciousness.",
        "strengths": "Poets of the unseen, they dissolve boundaries between science and spirit. Think healers blending VR with ancestral rituals or lawyers granting ecosystems legal personhood.",
        "challenges": "Escapism may distract from tangible justice work. Grounding visions in action ensures impact.",
        "actionable_contribution": "Create art resurrecting lost ecological wisdom. Lobby for policies embedding \"the right to beauty\" in urban design.",
        "affirmation": "Your dreams dissolve borders—vision boundlessly, but let compassion anchor your waves."
    }
}

def get_neptune_sign_description(sign_name):
    """
    Retrieves the description for a specific Neptune sign.
    
    Parameters:
    - sign_name (str): Name of the zodiac sign (e.g., "Aries", "Taurus")
    
    Returns:
    - dict: Formatted Neptune sign description or None if not found
    """
    # Normalize the sign name (capitalize first letter)
    sign_name = sign_name.capitalize()
    
    # Get the description
    description = NEPTUNE_SIGN_DESCRIPTIONS.get(sign_name)
    if not description:
        return None
        
    # Format the core themes as a list of dictionaries
    themes_list = [{"theme": theme.strip()} for theme in description["core_themes"].split(", ")]
    
    # Format the response
    return {
        "title": f"Neptune in {sign_name}",
        "planet": "Neptune",
        "sign": sign_name,
        "core_themes": themes_list,
        "collective_purpose": description["collective_purpose"],
        "strengths": description["strengths"],
        "challenges": description["challenges"],
        "actionable_contribution": description["actionable_contribution"],
        "affirmation": description["affirmation"]
    } 